<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <link th:href="@{/css/style.css}" rel="styleSheet">
    <title>ユーザー管理画面</title>
</head>
<body>
<div class="header-contents">
    <h2>ユーザー管理画面</h2>
</div>
<div class="main-contents">
    <div class="new-button">
        <a th:href="@{/newUser}">
            <input type="submit" value="新規ユーザー登録"/>
        </a>
    </div>

    <table>
        <caption>ユーザー登録情報一覧</caption>
        <tr>
            <th>編集</th>
            <th>ID<br/>アカウント名</th>
            <th>氏名</th>
            <th>所属</th>
            <th>登録日時<br/>更新日時</th>
            <th>アカウントの状態</th>
        </tr>
        <tr class="user" th:each="user : ${users}">
            <td>
                <a th:href="@{/user/edit/{id}(id=${user.id})}">
                    <input type="button" value="編集"/>
                </a>
            </td>
            <td><!-- ユーザーID・アカウント名表示 -->
                <span th:text="${user.id"></span><br/>
                <span th:text="${user.account}"></span>
            </td>
            <td><!-- 氏名表示 -->
                <span th:text="${user.name}"></span>
            </td>
            <td><!-- 所属表示 -->
                <span th:text="${user.branch}"></span><br/>
                <span th:text="${user.department}"></span>
            </td>
            <td>
                <span th:text="${user.createdDate}"></span><br/>
                <span th:text="${user.updatedDate}"></span>
            </td>
            <td>
                <form th:action="@{/change/{id}(id=${user.id})}" th:method="put" onsubmit="return ChekAlter()">
                    <select name="status">
                        <option value="0" th:selected="${user.isStopped == 0}">有効</option>
                        <option value="1" th:selected="${user.isStopped == 1}">停止中</option>
                    </select>
                    <input type="submit" value="変更"/>
                </form>
            </td>
        </tr>
    </table>
</div>
<div class="footer-contents">
    <form action="/">
        <input type="submit" value="戻る"/>
    </form>
</div>
</body>
</html>